<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/header :: header"/>
<!--<script>-->
<!--    $(document).ready(function() {-->
<!--        console.log("ok????????????????")-->
<!--        // console.log(Cookies.get('Authorization'))-->
<!--        const token = localStorage.getItem("Authorization")-->
<!--        console.log("token", token)-->
<!--        let isLogIn = Cookies.get('Authorization') !== undefined; // 'Authorization' 쿠키가 있는지 확인-->
<!--        $("#nav-items").empty()-->
<!--        console.log(isLogIn)-->


<!--        if (token !== null) {-->
<!--            // $("#nav-items").append('<a class="nav-link" href="#" onclick="onLogout();">로그아웃</a>');-->
<!--            $('#logout').show();-->
<!--            $('#login').hide();-->
<!--        } else {-->
<!--            // $("#nav-items").append('<a class="nav-link" href="#loginModal" data-toggle="modal">로그인</a></li><li class="nav-item"><a class="nav-link" href="#signupModal" data-toggle="modal">회원가입</a>');-->
<!--            $('#login').show();-->
<!--            $('#logout').hide();-->
<!--        }-->
<!--    });-->
<!--    -->
<!--    $(document).ready(function () {-->
<!--        // 토큰 삭제-->
<!--        // Cookies.remove('Authorization', {path: '/'});-->
<!--        let count = 3;-->
<!--        $.ajax({-->
<!--            type: "GET",-->
<!--            url: `/api/products/wishcount/${count}`,-->
<!--            contentType: "application/json",-->
<!--            // data: JSON.stringify({username: username, password: password}),-->
<!--        })-->
<!--            .done(function (json) {-->
<!--                console.log("json :" + json)-->
<!--                console.log()-->


<!--                json.forEach((data) => {-->
<!--                    let productName = data['productName'];-->
<!--                    let productImage = data['productImage'];-->
<!--                    let productCategory = data['category'];-->
<!--                    let price = data['price'];-->
<!--                    let mallName = data['mallName'];-->

<!--                    let html = `<div class="col-md-3">-->
<!--                                    <div class="card">-->
<!--                                        <img src="${productImage}" class="card-img-top" alt="...">-->
<!--                                        <div class="card-body">-->
<!--                                            <h5 class="card-title">${productName}</h5>-->
<!--                                            <p class="card-text">${price}</p>-->
<!--                                            <a href="#" class="btn btn-primary">Buy Now</a>-->
<!--                                        </div>-->
<!--                                    </div>-->
<!--                                </div>`-->
<!--                    $("#product-row").append(html);-->


<!--                });-->
<!--            })-->
<!--            .fail(function (jqXHR, textStatus) {-->
<!--                alert("Login Fail");-->
<!--                // window.location.href = host + '/api/user/login-page?error'-->
<!--            });-->
<!--    });-->

<!--    const href = location.href;-->
<!--    // const queryString = href.substring(href.indexOf("?") + 1)-->
<!--    // if (queryString === 'error') {-->
<!--    //     const errorDiv = document.getElementById('login-failed');-->
<!--    //     errorDiv.style.display = 'block';-->
<!--    // }-->

<!--    const host = 'http://' + window.location.host;-->

<!--    function onLogin() {-->
<!--        let loginemail = $('#loginemail').val();-->
<!--        let loginpassword = $('#loginpassword').val();-->

<!--        $.ajax({-->
<!--            type: "POST",-->
<!--            url: `/api/members/login`,-->
<!--            contentType: "application/json",-->
<!--            data: JSON.stringify({memberemail: loginemail, memberpassword: loginpassword}),-->
<!--        })-->
<!--            .done(function (res, status, xhr) {-->
<!--                /*document.cookie = 'Authorization=' + xhr.getResponseHeader(-->
<!--                    'Authorization') + ';path=/';-->

<!--                console.log(document.cookie)*/-->

<!--                const token = xhr.getResponseHeader('Authorization');-->
<!--                alert("Login Success");-->

<!--                console.log(token);-->

<!--                localStorage.setItem("Authorization", token)-->

<!--                // Cookies.set('Authorization', token, {path: '/'})-->

<!--                // $.ajaxPrefilter(function (options, originalOptions, jqXHR) {-->
<!--                //     jqXHR.setRequestHeader('Authorization', token);-->
<!--                // });-->
<!--                window.location.href = host;-->
<!--            })-->
<!--            .fail(function (jqXHR, textStatus) {-->
<!--                alert("Login Fail");-->
<!--                window.location.href = host + '/openrun/main'-->
<!--            });-->
<!--    }-->




<!--    function getAuthTokenFromCookie() {-->
<!--        return document.cookie.split(';').find(-->
<!--                cookie => cookie.trim().startsWith('Authorization='))?.split('=')[1]-->
<!--            || null;-->
<!--    }-->


<!--    function saveReservation() {-->
<!--        let token = getAuthTokenFromCookie(); // 쿠키에서 토큰 값 추출-->

<!--        $.ajax({-->
<!--            type: "POST",-->
<!--            url: "/",-->
<!--            dataType: "json",-->
<!--            headers: {-->
<!--                'Content-Type': 'application/json',-->
<!--                'Authorization': token // Authorization 헤더에 토큰 값 추가-->
<!--            },-->
<!--            data: JSON.stringify({}),-->
<!--            success: function () {-->
<!--                alert("성공");-->

<!--            },-->
<!--            error: function () {-->
<!--                alert("실패");-->
<!--            }-->
<!--        })-->
<!--    }-->
<!--</script>-->
<body>
<!-- 1. 페이지 우상단 위치에 로그인, 회원가입, 마이 페이지 선택 탭 존재 -->
<nav th:replace="fragments/headertop :: headertop"></nav>

<div class="container-fluid">
    <div class="row">
        <!-- 2. 메인페이지 좌측 바에 전체 상품, 오픈런 상품 페이지 선택 탭 존재 -->
        <nav class="col-md-2 d-none d-md-block bg-light sidebar">
            <div class="sidebar-sticky">
                <ul class="nav flex-column">
                    <li class="nav-item">
                        <a class="nav-link active" href="#">전체 상품</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">오픈런 상품</a>
                    </li>
                </ul>
            </div>
        </nav>


        <main role="main" class="col-md-9 ml-sm-auto col-lg-10 px-4">
            <!-- 3. 메인 배너에 오픈런 중인 상품 목록 확인 가능 -->
            <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
                <ol class="carousel-indicators">
                    <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
                    <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
                    <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
                </ol>
                <div class="carousel-inner">
                    <!--                    <div class="carousel-item active">-->
                    <!--                        <img src="이미지1.jpg" class="d-block w-100" alt="상품1">-->
                    <!--                    </div>-->
                    <!--                    <div class="carousel-item">-->
                    <!--                        <img src="이미지2.jpg" class="d-block w-100" alt="상품2">-->
                    <!--                    </div>-->
                    <!--                    <div class="carousel-item">-->
                    <!--                        <img src="이미지3.jpg" class="d-block w-100" alt="상품3">-->
                    <!--                    </div>-->
                </div>
                <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="sr-only">Previous</span>
                </a>
                <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="sr-only">Next</span>
                </a>
            </div>
        </main>

        <div class="container mt-5">
            <h3>Featured Products</h3>
            <div class="row" id="product-row">

                <!--여기 추천상품 나오는 곳!!-->
                <!-- ... Repeat for other products ... -->
            </div>
        </div>
    </div>
</div>
</body>
<script type="text/javascript" th:src="@{/js/basic.js}"></script>
<script type="text/javascript" th:src="@{/js/main.js}"></script>

</html>